{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Applications/MyFiles/Web/ProjectPlanning/PPA_UI/src/components/User/UserApp.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { NavLink, Redirect, Route, Switch, useParams } from \"react-router-dom\";\nimport { HOME, LOGOUT, PROJECTS, PROFILE, MYTASKS } from \"../../constants/tabConstants\";\nimport UserBar from \"./UserBar\";\nimport Home from \"./Home\";\nimport { HomeIcon, LogoutIcon, ProfileIcon, ProjectIcon, TaskIcon } from \"../Common/Icons\";\nimport Tasks from \"./Tasks\";\nimport Projects from \"./Projects\";\nimport ProjectBoard from \"./ProjectBoard\";\nimport \"../../styles/UserApp.css\";\nimport { BOARD } from \"../../constants/projectConstants\";\nimport Profile from \"./Profile\";\nimport avatarPhoto from \"../../img/avatar.jpg\";\n\nconst UserApp = () => {\n  _s();\n\n  const {\n    id,\n    projectId\n  } = useParams();\n  const [tab, setTab] = useState(getTab());\n  const [mode, setMode] = useState(BOARD);\n  const [avatar, setAvatar] = useState(avatarPhoto);\n\n  function getTab() {\n    let path = window.location.pathname;\n    let index = path.indexOf(id);\n    path = path.substr(index);\n\n    switch (path) {\n      case `${id}`:\n        return HOME;\n\n      case `${id}/tasks`:\n        return MYTASKS;\n\n      case `${id}/projects`:\n        return PROJECTS;\n\n      case `${id}/profile`:\n        return PROFILE;\n    }\n  }\n\n  const selectProjectMode = () => mode === BOARD ? \"project_board\" : \"project_list\";\n\n  const clearStorage = () => {\n    const token = \"accessToken\";\n    const userId = \"id\";\n    localStorage.removeItem(token);\n    localStorage.removeItem(userId);\n  };\n\n  const getUserId = () => localStorage.getItem(\"id\");\n\n  const CustomLink = ({\n    tabName,\n    url,\n    icon,\n    logout,\n    className\n  }) => {\n    return /*#__PURE__*/_jsxDEV(NavLink, {\n      onClick: () => logout ? clearStorage() : setTab(tabName),\n      className: tab === tabName ? `link focused ${className}` : `link ${className}`,\n      to: `${url}`,\n      children: [icon, tabName]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, this);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"user_app\",\n    onDragOver: e => e.preventDefault(),\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"navbar\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"logo\",\n          children: /*#__PURE__*/_jsxDEV(\"h2\", {\n            style: {\n              fontWeight: 500\n            },\n            children: \"Coursik\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"tabs\",\n          children: [/*#__PURE__*/_jsxDEV(CustomLink, {\n            tabName: HOME,\n            url: `/home/${id}`,\n            icon: /*#__PURE__*/_jsxDEV(HomeIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 78\n            }, this),\n            logout: false,\n            className: \"home_link\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(CustomLink, {\n            tabName: MYTASKS,\n            url: `/home/${id}/tasks`,\n            icon: /*#__PURE__*/_jsxDEV(TaskIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 87\n            }, this),\n            logout: false,\n            className: \"tasks_link\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(CustomLink, {\n            tabName: PROJECTS,\n            url: `/home/${id}/projects`,\n            icon: /*#__PURE__*/_jsxDEV(ProjectIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 91\n            }, this),\n            logout: false,\n            className: \"projects_link\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(CustomLink, {\n            tabName: PROFILE,\n            url: `/home/${id}/profile`,\n            icon: /*#__PURE__*/_jsxDEV(ProfileIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 89\n            }, this),\n            logout: false,\n            className: \"profile_link\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"logout\",\n          children: /*#__PURE__*/_jsxDEV(CustomLink, {\n            tabName: LOGOUT,\n            url: \"/\",\n            icon: /*#__PURE__*/_jsxDEV(LogoutIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 68\n            }, this),\n            logout: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"content\",\n        children: [/*#__PURE__*/_jsxDEV(UserBar, {\n          setAvatar: setAvatar,\n          avatar: avatar,\n          setMode: setMode,\n          mode: mode,\n          setTab: setTab,\n          tab: tab\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Switch, {\n          children: [/*#__PURE__*/_jsxDEV(Route, {\n            exact: true,\n            path: \"/home/:id/tasks\",\n            children: [id !== getUserId() ? /*#__PURE__*/_jsxDEV(Redirect, {\n              to: `/home/${getUserId()}/tasks`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 52\n            }, this) : null, /*#__PURE__*/_jsxDEV(Tasks, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            exact: true,\n            path: \"/home/:id/projects/:projectId\",\n            children: /*#__PURE__*/_jsxDEV(ProjectBoard, {\n              selectProjectMode: selectProjectMode,\n              setTab: setTab\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            exact: true,\n            path: \"/home/:id/projects\",\n            children: [id !== getUserId() ? /*#__PURE__*/_jsxDEV(Redirect, {\n              to: `/home/${getUserId()}/projects`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 52\n            }, this) : null, /*#__PURE__*/_jsxDEV(Projects, {\n              setTab: setTab\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            exact: true,\n            path: \"/home/:id/profile\",\n            children: [id !== getUserId() ? /*#__PURE__*/_jsxDEV(Redirect, {\n              to: `/home/${getUserId()}/profile`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 52\n            }, this) : null, /*#__PURE__*/_jsxDEV(Profile, {\n              setAvatar: setAvatar,\n              avatar: avatar\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            exact: true,\n            path: \"/home/:id\",\n            children: [id !== getUserId() ? /*#__PURE__*/_jsxDEV(Redirect, {\n              to: `/home/${getUserId()}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 52\n            }, this) : null, /*#__PURE__*/_jsxDEV(Home, {\n              setTab: setTab\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 9\n  }, this);\n};\n\n_s(UserApp, \"7kWJ/MoMHejNfSi4jitOcw60t6E=\", false, function () {\n  return [useParams];\n});\n\n_c = UserApp;\nexport default UserApp;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserApp\");","map":{"version":3,"sources":["/Applications/MyFiles/Web/ProjectPlanning/PPA_UI/src/components/User/UserApp.jsx"],"names":["React","useState","NavLink","Redirect","Route","Switch","useParams","HOME","LOGOUT","PROJECTS","PROFILE","MYTASKS","UserBar","Home","HomeIcon","LogoutIcon","ProfileIcon","ProjectIcon","TaskIcon","Tasks","Projects","ProjectBoard","BOARD","Profile","avatarPhoto","UserApp","id","projectId","tab","setTab","getTab","mode","setMode","avatar","setAvatar","path","window","location","pathname","index","indexOf","substr","selectProjectMode","clearStorage","token","userId","localStorage","removeItem","getUserId","getItem","CustomLink","tabName","url","icon","logout","className","e","preventDefault","fontWeight"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { NavLink, Redirect, Route, Switch, useParams } from \"react-router-dom\";\nimport { HOME, LOGOUT, PROJECTS, PROFILE, MYTASKS } from \"../../constants/tabConstants\";\nimport UserBar from \"./UserBar\";\nimport Home from \"./Home\";\nimport { HomeIcon, LogoutIcon, ProfileIcon, ProjectIcon, TaskIcon } from \"../Common/Icons\";\nimport Tasks from \"./Tasks\";\nimport Projects from \"./Projects\";\nimport ProjectBoard from \"./ProjectBoard\";\nimport \"../../styles/UserApp.css\";\nimport { BOARD } from \"../../constants/projectConstants\";\nimport Profile from \"./Profile\";\nimport avatarPhoto from \"../../img/avatar.jpg\";\n\nconst UserApp = () => {\n    const { id, projectId } = useParams();\n    const [tab, setTab] = useState(getTab());\n    const [mode, setMode] = useState(BOARD);\n    const [avatar, setAvatar] = useState(avatarPhoto);\n\n    function getTab() {\n        let path = window.location.pathname;\n        let index = path.indexOf(id);\n        \n        path = path.substr(index);\n        \n        switch (path) {\n            case `${id}`: return HOME;\n            case `${id}/tasks`: return MYTASKS;\n            case `${id}/projects`: return PROJECTS;\n            case `${id}/profile`: return PROFILE;\n        }\n    }\n\n    const selectProjectMode = () => mode === BOARD ? \"project_board\" : \"project_list\";\n\n    const clearStorage = () => {\n        const token = \"accessToken\";\n        const userId = \"id\";\n\n        localStorage.removeItem(token)\n        localStorage.removeItem(userId);\n    }\n\n    const getUserId = () => localStorage.getItem(\"id\");\n\n    const CustomLink = ({ tabName, url, icon, logout, className }) => {\n        return(\n            <NavLink onClick={() => logout ? clearStorage() : setTab(tabName)} \n                     className={tab === tabName ? `link focused ${className}` : `link ${className}`} \n                     to={`${url}`}>\n                {icon}\n                {tabName}\n            </NavLink>\n        )\n    }\n\n    return(\n        <div className=\"user_app\" onDragOver={e => e.preventDefault()}>\n            <div className=\"container\">\n                <div className=\"navbar\">\n                    <div className=\"logo\">\n                        <h2 style={{ fontWeight: 500 }}>Coursik</h2>\n                    </div>\n                    <div className=\"tabs\">\n                        <CustomLink tabName={HOME} url={`/home/${id}`} icon={<HomeIcon/>} logout={false} className=\"home_link\"/>\n                        <CustomLink tabName={MYTASKS} url={`/home/${id}/tasks`} icon={<TaskIcon/>} logout={false} className=\"tasks_link\"/>\n                        <CustomLink tabName={PROJECTS} url={`/home/${id}/projects`} icon={<ProjectIcon/>} logout={false} className=\"projects_link\"/>\n                        <CustomLink tabName={PROFILE} url={`/home/${id}/profile`} icon={<ProfileIcon/>} logout={false} className=\"profile_link\"/>\n                    </div>\n                    <div className=\"logout\">\n                        <CustomLink tabName={LOGOUT} url=\"/\" icon={<LogoutIcon/>} logout={true}/>\n                    </div>\n                </div>\n                <div className=\"content\">\n                    <UserBar setAvatar={setAvatar} avatar={avatar} \n                             setMode={setMode} mode={mode} \n                             setTab={setTab} tab={tab}\n                    />\n                    <Switch>\n                        <Route exact path=\"/home/:id/tasks\">\n                            { id !== getUserId() ? <Redirect to={`/home/${getUserId()}/tasks`}/> : null}\n                            <Tasks />\n                        </Route>\n                        <Route exact path=\"/home/:id/projects/:projectId\">\n                            <ProjectBoard selectProjectMode={selectProjectMode} setTab={setTab} />\n                        </Route>\n                        <Route exact path=\"/home/:id/projects\">\n                            { id !== getUserId() ? <Redirect to={`/home/${getUserId()}/projects`}/> : null}\n                            <Projects setTab={setTab} />    \n                        </Route>\n                        <Route exact path=\"/home/:id/profile\">\n                            { id !== getUserId() ? <Redirect to={`/home/${getUserId()}/profile`}/> : null}\n                            <Profile setAvatar={setAvatar} avatar={avatar}/>    \n                        </Route>\n                        <Route exact path=\"/home/:id\">\n                            { id !== getUserId() ? <Redirect to={`/home/${getUserId()}`}/> : null}\n                            <Home setTab={setTab}/>\n                        </Route>\n                    </Switch>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default UserApp;"]},"metadata":{},"sourceType":"module"}